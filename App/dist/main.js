(()=>{"use strict";var r={157:r=>{r.exports=require("electron")},467:(r,t)=>{function n(r){return r.map(r=>({pid:r.pid,arrival:Number(r.arrival),burst:Number(r.burst),completion:0,turnaround:0,waiting:0}))}function a(r){const t=n(r);t.sort((r,t)=>r.arrival-t.arrival);let a=0;const o=[];for(let r of t){r.arrival>a&&(a=r.arrival);const t=a;a+=r.burst;const n=a;r.completion=n,r.turnaround=r.completion-r.arrival,r.waiting=r.turnaround-r.burst,o.push({pid:r.pid,start:t,end:n})}return{results:t,ganttChart:o}}function o(r){const t=n(r),a=t.length,o=t.map((r,t)=>t).sort((r,n)=>t[r].arrival-t[n].arrival||r-n),e=[];let i=0,s=0,l=0;const u=[],c=()=>{for(;s<a&&t[o[s]].arrival<=i;)e.push(o[s++]);e.sort((r,n)=>t[r].burst-t[n].burst||t[r].arrival-t[n].arrival)};for(;l<a&&(c(),0!==e.length||(s<a&&(i=Math.max(i,t[o[s]].arrival)),c(),0!==e.length));){const r=e.shift(),n=t[r],a=Math.max(i,n.arrival),o=a+n.burst;i=o,n.completion=o,n.turnaround=n.completion-n.arrival,n.waiting=n.turnaround-n.burst,u.push({pid:n.pid,start:a,end:o}),l++}return{results:t,ganttChart:u}}function e(r,t){const a=n(r);a.sort((r,t)=>r.arrival-t.arrival);const o=a.length;if(0===o)return{results:a,ganttChart:[]};const e=a.map(r=>r.burst),i=[];let s=0,l=0,u=0;const c=[],d=()=>{for(;l<o&&a[l].arrival<=s;)i.push(l++)};for(d(),0===i.length&&l<o&&(s=a[l].arrival,d());i.length>0;){const r=i.shift(),n=a[r],p=Math.max(s,n.arrival),h=Math.min(t,e[r]);s=p+h,e[r]-=h,c.push({pid:n.pid,start:p,end:s}),d(),e[r]>0?i.push(r):(n.completion=s,n.turnaround=n.completion-n.arrival,n.waiting=n.turnaround-n.burst,u++),0===i.length&&u<o&&l<o&&(s=Math.max(s,a[l].arrival),d())}return{results:a,ganttChart:c}}function i(r){const t=n(r),a=t.length;let o=0,e=0;const i=[],s=new Array(a).fill(!1);for(;e<a;){const r=[];for(let n=0;n<a;n++)!s[n]&&t[n].arrival<=o&&r.push(n);if(0===r.length){o++;continue}let n=r[0],l=(o-t[n].arrival+t[n].burst)/t[n].burst;for(let a of r){const r=(o-t[a].arrival+t[a].burst)/t[a].burst;r>l&&(l=r,n=a)}const u=t[n],c=Math.max(o,u.arrival),d=c+u.burst;o=d,u.completion=d,u.turnaround=u.completion-u.arrival,u.waiting=u.turnaround-u.burst,i.push({pid:u.pid,start:c,end:d}),s[n]=!0,e++}return{results:t,ganttChart:i}}function s(r){const t=n(r),a=t.length;if(0===a)return{results:t,ganttChart:[]};const o=t.map(r=>r.burst),e=t.map((r,t)=>t).sort((r,n)=>t[r].arrival-t[n].arrival||r-n),i=[];let s=0,l=0,u=0;const c=[],d=()=>{for(;s<a&&t[e[s]].arrival<=l;)i.push(e[s++]);i.sort((r,n)=>o[r]-o[n]||t[r].arrival-t[n].arrival)};for(;u<a;){if(d(),0===i.length&&(l=Math.max(l,t[e[s]].arrival),d(),0===i.length))continue;const r=i.shift(),n=t[r],a=Math.max(l,n.arrival);l=a+1,o[r]-=1,c.push({pid:n.pid,start:a,end:l}),0===o[r]&&(n.completion=l,n.turnaround=n.completion-n.arrival,n.waiting=n.turnaround-n.burst,u++),d(),o[r]>0&&i.push(r)}return{results:t,ganttChart:c}}Object.defineProperty(t,"__esModule",{value:!0}),t.runAlgorithm=t.srt=t.hrrn=t.rr=t.sjf=t.fcfs=void 0,t.fcfs=a,t.sjf=o,t.rr=e,t.hrrn=i,t.srt=s,t.runAlgorithm=function(r,t,n){switch((r||"").toLowerCase()){case"fcfs":return a(t);case"sjf":return o(t);case"rr":return e(t,(null==n?void 0:n.quantum)||2);case"hrrn":return i(t);case"srt":return s(t);case"mlfq":return e(t,(null==n?void 0:n.quantum)||4);default:throw new Error("Unknown algorithm: "+r)}}},927:function(r,t,n){var a=this&&this.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(157),e=a(n(928)),i=n(467);function s(){const r=new o.BrowserWindow({width:800,height:600,webPreferences:{preload:e.default.join(__dirname,"preload.js"),contextIsolation:!0,enableRemoteModule:!1}});r.loadFile(e.default.join(__dirname,"index.html")),r.webContents.openDevTools(),r.webContents.on("crashed",()=>{console.error("Renderer process crashed")}),r.webContents.on("did-fail-load",(r,t,n)=>{console.error("Failed to load:",t,n)}),r.on("closed",()=>{r.destroy()})}o.app.on("ready",s),o.app.on("window-all-closed",()=>{"darwin"!==process.platform&&o.app.quit()}),o.app.on("activate",()=>{0===o.BrowserWindow.getAllWindows().length&&s()}),o.ipcMain.handle("run-algorithm",(r,t)=>{try{if(console.log("IPC Handler - Running algorithm with payload:",t),!t)throw new Error("Payload is undefined");const{algorithm:r,processes:n,options:a}=t;if(!r)throw new Error("Algorithm not specified");if(!n||!Array.isArray(n))throw new Error("Processes is not an array");const o=n.map((r,t)=>{var n,a,o;return{pid:String(null!==(n=r.pid)&&void 0!==n?n:"P"+(t+1)),arrival:Number(null!==(a=r.arrival)&&void 0!==a?a:0),burst:Number(null!==(o=r.burst)&&void 0!==o?o:0)}});try{const t=(0,i.runAlgorithm)(r,o,a);return console.log("Algorithm result:",t),t}catch(r){return console.warn("Algorithm call failed, returning mock result. Error:",(null==r?void 0:r.message)||r),{results:o.map((r,t)=>({pid:r.pid,completion:r.arrival+r.burst+t,turnaround:r.burst+t,waiting:t})),ganttChart:o.map((r,t)=>({pid:r.pid,start:t*(r.burst||1),end:(t+1)*(r.burst||1)}))}}}catch(r){throw console.error("Error in IPC handler:",r),r}})},928:r=>{r.exports=require("path")}},t={};!function n(a){var o=t[a];if(void 0!==o)return o.exports;var e=t[a]={exports:{}};return r[a].call(e.exports,e,e.exports,n),e.exports}(927)})();
